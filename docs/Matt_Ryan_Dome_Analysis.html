<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Matt Ryan Dome Analysis</title>

<script src="site_libs/header-attrs-2.14/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Zach Tatro | Portfolio</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Projects
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Project_1.html">Project 1</a>
    </li>
    <li>
      <a href="Matt_Ryan_Dome_Analysis.html">Matt Ryan Dome Analysis</a>
    </li>
  </ul>
</li>
<li>
  <a href="Links.html">Links</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Matt Ryan Dome Analysis</h1>

</div>


<hr />
<p><a
href="https://www.pff.com/news/fantasy-football-96-stats-3-fantasy-football-stats-for-every-nfl-team-for-2019"
class="uri">https://www.pff.com/news/fantasy-football-96-stats-3-fantasy-football-stats-for-every-nfl-team-for-2019</a></p>
<hr />
<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p>In a Pro Football Focus article “96 stats – 3 fantasy football stats
for every NFL team for 2019”, Scott Barret compares Atlanta Falcons
quarterback Matt Ryan’s fantasy points when player indoors vs. outdoors.
He says,</p>
<blockquote>
<p>“[…] 2B. Throughout his career, 26 of Ryan’s 37 highest-scoring
fantasy games (70%) have come in a dome. Last year he averaged 23.8
fantasy points per game in a dome but only 20.1 fantasy points per game
when playing outdoors. 2C. He plays outdoors in only three of 16 games
this season.””</p>
</blockquote>
<p>Although Barret doesn’t expand on these stats, it’s easy to decipher
what he is implying. Matt Ryan’s higher per game fantasy point average
indoors for 2018, combined with his unique schedule in 2018, is reason
to think Matt Ryan is a good draft pick for fantasy team owners in
upcoming fantasy drafts.</p>
<p>Ryan’s 2019 schedule is certainly unique. He doesn’t play outdoors
until week 11 at Carolina and only plays two games outdoors during a
typical 16 week fantasy football season. At a glance, Barret’s statement
seems to hold some weight. More games indoors should result in more
fantasy points. However, we’re taking about 3.7 more points per game. Do
we think that will make a big enough difference to matter? Lets dive
into the data and see if we can find any evidence to conclude that Matt
Ryan’s schedule is a reason to move him up fantasy owner’s draft
boards.</p>
</div>
<div id="indoor-vs.-outdoor" class="section level1">
<h1>2018 Indoor VS. Outdoor</h1>
<p>Lets first visualize Ryan’s 2018 season. Here is box plot of fantasy
points from each game seperated by whether the game was played in an
indoor or outdoor stadium.</p>
<p><img src="Matt_Ryan_Dome_Analysis_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<p>While the figure above might not be the most useful in terms of
drawing a conclusion, it does give us an idea of what the data looks
like. I believe the boxplot is most useful in picturing the variability
of the data. We see that the variability in fantasy scores from games
played indoors is larger than the variability from games played
outdoors. This could be important when deciding which test we use since
we sometimes assume our data comes from groups with equal variance.</p>
<div id="the-t-test" class="section level2">
<h2>The t-test:</h2>
<p>Let’s formally test whether Matt Ryan really scored more fantasy
points indoors than he did outdoors in 2018. Since we are comparing the
means of two groups, a two-sample t-test seems to be the obvious choice.
The two-sample t-test does come with some assumptions however. I won’t
go through all the assumptions but three of them are at least
interesting enough to talk about.</p>
<ol style="list-style-type: decimal">
<li><strong>The data follow a normal probability distribution.</strong>
With such as small sample size (n = 16) it can be difficult to use a
histogram of fantasy scores to see if our distribution looks at least
normal-ish. Luckily other methods exists like a QQ-norm plot and some
statistical tests.</li>
</ol>
<p><img src="Matt_Ryan_Dome_Analysis_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<pre><code>## 
##  Shapiro-Wilk normality test
## 
## data:  Year.2018$Fant.Pts
## W = 0.9666, p-value = 0.7809</code></pre>
<p>The QQ-norm plot compares the quantiles from our data to the
theoretical quantiles you’d expect to see from a normal distribution. We
see here that our points lie (roughly) on the line. We can also use the
Shapiro-Wilk test to check the normality assumption. A large p-value
here is a good thing. I think it is safe to assume normality.</p>
<ol start="2" style="list-style-type: decimal">
<li><strong>Equal variance.</strong> We saw before in our boxplot that
we may have an issue with unequal variance between our groups. As a
general rule, if the ratio of standard deviations is less than 2 (larger
sd in the numerator), you’re probably safe to assume equal variance. The
ratio here is 1.4. We could also used an F test to compare two variances
and obtained an non-significant p-value.</li>
</ol>
<pre><code>## 
##  F test to compare two variances
## 
## data:  Year.2018$Fant.Pts[Year.2018$Dome == &quot;Y&quot;] and Year.2018$Fant.Pts[Year.2018$Dome == &quot;N&quot;]
## F = 1.9473, num df = 8, denom df = 6, p-value = 0.4323
## alternative hypothesis: true ratio of variances is not equal to 1
## 95 percent confidence interval:
##  0.3477628 9.0584349
## sample estimates:
## ratio of variances 
##            1.94734</code></pre>
<p>Like the normality test, we also get a large p-value. It is probably
safe to assume equal variance. When we run the t-test below, we are
going to use Welch’s two-sample t-test. This variation of the t-test is
used when we don’t want to assume equal variance. It is also the default
setting when using the <code>t.test()</code> function in r. I decided
not to change it because our conclusion is very nearly equal when
running both variations of the t-test.</p>
<ol start="3" style="list-style-type: decimal">
<li><strong>The samples are independent.</strong> In all honesty, I have
the hardest time justifying this assumption. All of the games from our
sample are from the same NFL season. I can definitely see a situation
where Matt Ryan’s performance in one game could effect his performance
in a subsequent game. An injury that lingers from week to week is a good
example of something that would effect subsequent games. On the other
hand, NFL games are mostly played a week apart. Also, with the exception
of the 3 division opponents, an NFL team won’t play the same team twice.
Even then, the two games against division opponents are played at
different locations. I think I can continue with this assumption.</li>
</ol>
<p>Let’s test!</p>
<pre><code>## 
##  Welch Two Sample t-test
## 
## data:  Fant.Pts by Dome
## t = -0.90571, df = 13.946, p-value = 0.8098
## alternative hypothesis: true difference in means between group N and group Y is greater than 0
## 95 percent confidence interval:
##  -11.11322       Inf
## sample estimates:
## mean in group N mean in group Y 
##        20.00000        23.77333</code></pre>
<p>From the output of the <code>t-test()</code> function, we conclude
that the Matt Ryan’s average fantasy score indoors is not significantly
greater than his average fantasy score outdoors in 2018. I don’t think
this is a surprising conclusion given what we saw in the box plot. The
difference in average fantasy points is just not that big, especially
when we consider the variability between Ryan’s scores.</p>
</div>
<div id="the-nonparametric-test" class="section level2">
<h2>The nonparametric test:</h2>
<p>In the t-test performed above, we discussed whether we believe some
assumptions about our data were true. I felt like we were probably OK to
perform the t-test but we do have options if we don’t think our data
meet those assumptions. Enter nonparametric methods.</p>
<p>The cool thing about using nonparametric methods is that we don’t
have the burden of meeting all those assumptions like before. Instead,
all we need is that the data is continuous. That is, it can take on any
value not just discrete values. That is a pretty easy assumption to
check off in this example because fantasy points can take on any value.
Unfortunately, like most things in life, the pros are balanced by the
cons. If the assumptions we discussed before are met, a parametric test
is better at detecting an effect than a nonparametric test. However,
it’s pretty difficult to screw up a nonparametric test by making an
incorrect assumption. One reason I enjoy using nonparamtric tests is
that they are fairly easy to understand and therefore easy to explain to
an audience that probably doesn’t remember that intro to statistics
class they took freshmen year.</p>
<p>For this example, we’ll perform a two-sample permutation test to
compare the difference of two means. For this test, we’ll pretend that
the labels of “indoor” and “outdoor” is arbitrary. We’re pretending that
it is just as likely that Matt Ryan scored those fantasy points indoors
than he did outdoors. The test is performed using these steps:</p>
<ol style="list-style-type: decimal">
<li><p>Calculate every possible combination of “indoor” and “outdoor”
labels for all 16 games from 2018. It turns out there are 11,440
possible combinations.</p></li>
<li><p>For every combination calculated in step 1, calculate the
difference between the mean fantasy scores for games played indoors and
games played outdoors.</p></li>
<li><p>After we have all of these differenced means we can create whats
called a permutation distribution. The permutation distribution contains
all the possible differences in mean scores between indoor and outdoor
games that we calculated in step 2.</p></li>
</ol>
<p>Let’s perform our test.</p>
<p><img src="Matt_Ryan_Dome_Analysis_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<pre><code>## [1] 0.201049</code></pre>
<p>In the figure above, we’ve compared our observed difference in mean
fantasy score between indoor and outdoor games to the permutation
distribution. We see that what we observed in 2018 appears in a high
density region of the histogram. This tell us that what we observed is
pretty likely compared to all possible outcomes. We can even compute a
p-value using the permutation distribution. This is calculated as the
number of observed differenced means greater than what we observed
divided by the total number of observed difference in means. We obtained
a p-value of about 0.20 so we do not have enough evidence to conclude
that Matt Ryan performed better indoors than he did outdoors in
2018.</p>
</div>
</div>
<div id="conclusion" class="section level1">
<h1>Conclusion</h1>
<p>We did not find evidence to suggest that Matt Ryan’s true average
fantasy points score indoors is greater than his true average fantasy
points score outdoors. If we just look at the data and the spread of
Matt Ryan’s scores I don’t think this is a surprising conclusion. Matt
Ryan had games where he scored seven and eight points while also having
a 30 and a 40 point game. A large majority of his scores were between 19
and 28 points. An average difference of 3.7 points is just not that
much.</p>
</div>
<div id="tldr" class="section level1">
<h1>TL;DR</h1>
<p>After performing a t-test and it’s nonparametric equivalent, we find
that Matt Ryan’s true average fantasy points scored indoors is not
different that his true average fantasy points scored outdoors.</p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
